{"ast":null,"code":"import _classCallCheck from\"/Users/vivian/Desktop/uncountable-frontend/uncountable-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/vivian/Desktop/uncountable-frontend/uncountable-frontend/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/vivian/Desktop/uncountable-frontend/uncountable-frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/vivian/Desktop/uncountable-frontend/uncountable-frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/vivian/Desktop/uncountable-frontend/uncountable-frontend/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import dataset from'../assets/dataset.json';import CanvasJSChart from'../assets/canvasjs.react';// var CanvasJS = CanvasJSReact.CanvasJS;\n// var CanvasJSChart = CanvasJSReact.CanvasJSChart;\nvar inputs=[\"Polymer 1\",\"Polymer 2\",\"Polymer 3\",\"Polymer 4\",\"Carbon Black High Grade\",\"Carbon Black Low Grade\",\"Silica Filler 1\",\"Silica Filler 2\",\"Plasticizer 1\",\"Plasticizer 2\",\"Plasticizer 3\",\"Antioxidant\",\"Coloring Pigment\",\"Co-Agent 1\",\"Co-Agent 2\",\"Co-Agent 3\",\"Curing Agent 1\",\"Curing Agent 2\"// Oven Temperature included in the tooltip but not in the stacked bar chart\n];var indexCount=0;var Chart=/*#__PURE__*/function(_React$Component){_inherits(Chart,_React$Component);function Chart(props){var _this;_classCallCheck(this,Chart);_this=_possibleConstructorReturn(this,_getPrototypeOf(Chart).call(this,props));_this.state={title:\"\",options:{},indexLabelCount:0};return _this;}_createClass(Chart,[{key:\"updateTitle\",value:function updateTitle(output){var newTitle=output+\" Chart\";this.setState({title:newTitle});}},{key:\"compare\",value:function compare(a,b){return b[1]-a[1];}},{key:\"sortData\",value:function sortData(output){var sorted=[];for(var exp in dataset){sorted.push([exp,dataset[exp][\"outputs\"][output]]);}sorted.sort(this.compare);return sorted;}},{key:\"createIndexLabel\",value:function createIndexLabel(e,output){var idx=(inputs.length-1)*Object.keys(dataset).length;if(indexCount<idx){indexCount++;return\"\";}else{indexCount++;var label=e.dataPoint.label;return dataset[label][\"outputs\"][output];}}},{key:\"createDataPoints\",value:function createDataPoints(input,output,sorted){var _this2=this;var sortedDataPoints=[];var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=sorted[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var exp=_step.value;sortedDataPoints.push({label:exp[0],y:dataset[exp[0]][\"inputs\"][input]});}}catch(err){_didIteratorError=true;_iteratorError=err;}finally{try{if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return();}}finally{if(_didIteratorError){throw _iteratorError;}}}return{type:\"stackedBar\",name:input,showInLegend:\"true\",indexLabelFormatter:function indexLabelFormatter(e){return _this2.createIndexLabel(e,output);},indexLabelPlacement:\"outside\",indexLabelOrientation:\"horizontal\",indexLabelFontSize:12,dataPoints:sortedDataPoints};}},{key:\"updateData\",value:function updateData(output){var newData=[];var sorted=this.sortData(output);var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=undefined;try{for(var _iterator2=inputs[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var input=_step2.value;newData.push(this.createDataPoints(input,output,sorted));}}catch(err){_didIteratorError2=true;_iteratorError2=err;}finally{try{if(!_iteratorNormalCompletion2&&_iterator2.return!=null){_iterator2.return();}}finally{if(_didIteratorError2){throw _iteratorError2;}}}this.setState({data:newData});return newData;}},{key:\"updateOptions\",value:function updateOptions(output){this.updateTitle(output);var newData=this.updateData(output);indexCount=0;this.setState({options:{animationEnabled:true,exportEnabled:true,theme:\"light2\",height:600,axisX:{title:\"Experiment\",titleFontSize:24,labelFontSize:12,labelFormatter:function labelFormatter(e){if(e.label){return e.label.substring(e.label.indexOf(\"EXP\"));}else{return e.label;}},interval:1},axisY:{title:\"Amount of Inputs\",titleFontSize:24,labelFontSize:12},toolTip:{shared:true,contentFormatter:function contentFormatter(e){var exp=e.entries[0].dataPoint.label;var content=\"<i>\"+exp+\"</i>\"+\"<br/>\";for(var i=0;i<e.entries.length;i++){content+=e.entries[i].dataSeries.name+\": \"+\"<strong>\"+e.entries[i].dataPoint.y+\"</strong>\";content+=\"<br/>\";}content+=\"Oven Temperature: <strong>\"+dataset[exp][\"inputs\"][\"Oven Temperature\"]+\"</strong>\";return content;}},legend:{cursor:\"pointer\",fontSize:12},data:newData}});}},{key:\"componentDidMount\",value:function componentDidMount(){this.updateOptions(\"Viscosity\");}},{key:\"render\",value:function render(){var _this3=this;return React.createElement(\"div\",{className:\"chart\"},React.createElement(\"header\",null,React.createElement(\"h1\",null,this.state.title)),React.createElement(\"div\",{className:\"inputs\"},React.createElement(\"button\",{onClick:function onClick(){return _this3.updateOptions(\"Viscosity\");}},\"Viscosity\"),React.createElement(\"button\",{onClick:function onClick(){return _this3.updateOptions(\"Cure Time\");}},\"Cure Time\"),React.createElement(\"button\",{onClick:function onClick(){return _this3.updateOptions(\"Elongation\");}},\"Elongation\"),React.createElement(\"button\",{onClick:function onClick(){return _this3.updateOptions(\"Tensile Strength\");}},\"Tensile Strength\"),React.createElement(\"button\",{onClick:function onClick(){return _this3.updateOptions(\"Compression Set\");}},\"Compression Set\")),React.createElement(\"div\",{id:\"chartContainer\"},React.createElement(CanvasJSChart,{options:this.state.options,onRef:function onRef(ref){return _this3.chart=ref;}})));}}]);return Chart;}(React.Component);export default Chart;","map":{"version":3,"sources":["/Users/vivian/Desktop/uncountable-frontend/uncountable-frontend/src/components/Chart.js"],"names":["React","dataset","CanvasJSChart","inputs","indexCount","Chart","props","state","title","options","indexLabelCount","output","newTitle","setState","a","b","sorted","exp","push","sort","compare","e","idx","length","Object","keys","label","dataPoint","input","sortedDataPoints","y","type","name","showInLegend","indexLabelFormatter","createIndexLabel","indexLabelPlacement","indexLabelOrientation","indexLabelFontSize","dataPoints","newData","sortData","createDataPoints","data","updateTitle","updateData","animationEnabled","exportEnabled","theme","height","axisX","titleFontSize","labelFontSize","labelFormatter","substring","indexOf","interval","axisY","toolTip","shared","contentFormatter","entries","content","i","dataSeries","legend","cursor","fontSize","updateOptions","ref","chart","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport dataset from '../assets/dataset.json';\nimport CanvasJSChart from '../assets/canvasjs.react';\n// var CanvasJS = CanvasJSReact.CanvasJS;\n// var CanvasJSChart = CanvasJSReact.CanvasJSChart;\n\nconst inputs = [\n  \"Polymer 1\",\n  \"Polymer 2\",\n  \"Polymer 3\",\n  \"Polymer 4\",\n  \"Carbon Black High Grade\",\n  \"Carbon Black Low Grade\",\n  \"Silica Filler 1\",\n  \"Silica Filler 2\",\n  \"Plasticizer 1\",\n  \"Plasticizer 2\",\n  \"Plasticizer 3\",\n  \"Antioxidant\",\n  \"Coloring Pigment\",\n  \"Co-Agent 1\",\n  \"Co-Agent 2\",\n  \"Co-Agent 3\",\n  \"Curing Agent 1\",\n  \"Curing Agent 2\",\n  // Oven Temperature included in the tooltip but not in the stacked bar chart\n]\n\nlet indexCount = 0;\n\nclass Chart extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      title: \"\",\n      options: {},\n      indexLabelCount: 0\n    };\n  }\n\n  updateTitle(output) {\n    let newTitle = output + \" Chart\";\n    this.setState({ title: newTitle });\n  }\n\n  compare(a, b) {\n    return b[1] - a[1];\n  }\n\n  sortData(output) {\n    let sorted = [];\n    for (let exp in dataset) {\n      sorted.push([exp, dataset[exp][\"outputs\"][output]]);\n    }\n    sorted.sort(this.compare);\n    return sorted;\n  }\n\n  createIndexLabel(e, output) {\n    let idx = (inputs.length - 1) * (Object.keys(dataset).length);\n    if (indexCount < idx) {\n      indexCount++;\n      return \"\";\n    } else {\n      indexCount++;\n      let label = e.dataPoint.label;\n      return dataset[label][\"outputs\"][output];\n    }\n  }\n\n  createDataPoints(input, output, sorted) {\n    let sortedDataPoints = [];\n    for (let exp of sorted) {\n      sortedDataPoints.push({\n        label: exp[0],\n        y: dataset[exp[0]][\"inputs\"][input]\n      })\n    }\n    return {\n      type: \"stackedBar\",\n      name: input,\n      showInLegend: \"true\",\n      indexLabelFormatter: e => {\n        return this.createIndexLabel(e, output);\n      },\n      indexLabelPlacement: \"outside\",  \n      indexLabelOrientation: \"horizontal\",\n      indexLabelFontSize: 12,\n      dataPoints: sortedDataPoints\n    };\n  }\n\n  updateData(output) {\n    let newData = [];\n    let sorted = this.sortData(output);\n    for (let input of inputs) {\n      newData.push(this.createDataPoints(input, output, sorted));\n    }\n    this.setState({ data: newData });\n\n    return newData;\n  }\n\n  updateOptions(output) {\n    this.updateTitle(output);\n    let newData = this.updateData(output);\n    indexCount = 0;\n    this.setState({ \n      options: {\n        animationEnabled: true,\n        exportEnabled: true,\n        theme: \"light2\",\n        height: 600,\n        axisX: {\n          title: \"Experiment\",\n          titleFontSize: 24,\n          labelFontSize: 12,\n          labelFormatter: e => {\n            if (e.label) {\n              return e.label.substring(e.label.indexOf(\"EXP\"));\n            } else {\n              return e.label;\n            }\n          },\n          interval: 1,\n        },\n        axisY: {\n          title: \"Amount of Inputs\",\n          titleFontSize: 24,\n          labelFontSize: 12,\n        }, \n        toolTip: {\n          shared: true,\n          contentFormatter: e => {\n            let exp = e.entries[0].dataPoint.label;\n            let content = \"<i>\" + exp + \"</i>\" + \"<br/>\";\n            for (let i = 0; i < e.entries.length; i++) {\n              content += e.entries[i].dataSeries.name + \": \" + \"<strong>\" + e.entries[i].dataPoint.y + \"</strong>\";\n              content += \"<br/>\";\n            }\n            content += \"Oven Temperature: <strong>\" + dataset[exp][\"inputs\"][\"Oven Temperature\"] + \"</strong>\";\n            return content;\n          }\n        },\n        legend:{\n          cursor: \"pointer\",\n          fontSize: 12,\n        },\n        data: newData\n      }\n    });\n  }\n\n  componentDidMount() {\n    this.updateOptions(\"Viscosity\");\n  }\n\n  render() {\n    return (\n      <div className=\"chart\">\n        <header>\n          <h1>{ this.state.title }</h1>\n        </header>\n        <div className=\"inputs\">\n          <button onClick={() => this.updateOptions(\"Viscosity\")}>Viscosity</button>\n          <button onClick={() => this.updateOptions(\"Cure Time\")}>Cure Time</button>\n          <button onClick={() => this.updateOptions(\"Elongation\")}>Elongation</button>\n          <button onClick={() => this.updateOptions(\"Tensile Strength\")}>Tensile Strength</button>\n          <button onClick={() => this.updateOptions(\"Compression Set\")}>Compression Set</button>\n        </div>\n        <div id=\"chartContainer\">\n          <CanvasJSChart options={ this.state.options } onRef={ref => this.chart = ref} />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Chart"]},"metadata":{},"sourceType":"module"}